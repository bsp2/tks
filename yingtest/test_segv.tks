
// file  : test_segv.tks
// author: Bastian Spiegel <bs@tkscript.de>
// date  : 28-Nov-2005 
// info  :
//         Demonstrates how to catch access violations (segmentation faults) and continue script execution.
//         This feature can be used to e.g. write emergency save-states or popup error dialogs.


use yingtest;


function onSegV() {
   print "[...] Access violation script handler called.";
   return true; // continue with execution.
}

function onSegVContinue() {
   print "    ..continuing after access violation..";
}

function Crash() {
   RaiseSegV();
}

use onSegV for TKS.onSegV;
use onSegVContinue for TKS.onSegVContinue;
print "Raise segmentation fault error : "; 
Crash();


print "this is never reached.";
