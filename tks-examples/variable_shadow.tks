
module Main;

int i=23;

class CTest {
   String name = "123456789";
   int i=42;
   StringArray name_array = ["d", "e", "f"];

   String string_ptr <= "CTest_string";

   test() {
      String name = "err";
      name = "1234";
      this.name = "hello, world.";
      trace "test().name = " + name;
      trace "test().name.length = " + (name.length);
      trace "test().name.getLength() = " + (name.getLength());

      trace "this.name = " + (this.name);
      trace "this.name.length = " + (this.name.length);
      trace "this.name.getLength() = " + (this.name.getLength());

      StringArray name_array = ["a","b","c"];
      name_array = ["a2", "b2", "c2"];
      name_array[0] = "a3";
      trace "test().name_array[0] = " + (name_array[0]);

      int i=64;
      trace "test().i = " + i;
      i++;
      trace "test().i = " + i;

      trace "this.i = " + this.i;
      this.i++;
      trace "this.i = " + this.i;

      trace "Main.i = " + Main.i;
      Main.i++;
      trace "Main.i = " + Main.i;

      Integer io = 76;
      if(true)
         io.value = 1;
      else
         io.value = ~1;

      String string_ptr <= "test()_string";

      string_ptr <= "test()_string2";

      trace "test().string_ptr = " + string_ptr;
      trace "this.string_ptr = " + (this.string_ptr);

   }
}

CTest c;

c.test();

/*
$ tks test.tks
test().name = 1234
test().name.length = 5
test().name.getLength() = 5
this.name = hello, world.
this.name.length = 14
this.name.getLength() = 14
test().name_array[0] = a3
test().i = 64
test().i = 65
this.i = 42
this.i = 43
Main.i = 23
Main.i = 24
test().string_ptr = test()_string2
this.string_ptr = CTest_string
*/




