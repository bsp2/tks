// program output on amd2400+ 512MB Win2k/pro compiled with vc6:
/*
$ tks double.tks
7.7570187939210662e-008
7.7570184942032938e-008
difference=2.9971777235720094e-015
dc=6.6000001430511475
loop1
loop2
loop3
t1=1708 t2=1708 t3=10
*/

int t1,t2,t3;

Double da,db,dc; 
Float fa,fb,fc; 
float rfa,rfb,rfc;

da=2PI;   // assign 32bit float Value
db=0.0000001;
dc=da*db*0.12345678; // test mixed Double-Double, Double-float arithmetics
print dc.printf("%4.24g");

fa=2PI;   // assign 32bit float
fb=0.0000001;
fc=fa*fb*0.12345678; // test mixed Float-Float, Float-float arithmetics
print fc.printf("%4.24g");
print "difference="+((dc-fc).printf("%4.24g"));

da=2.2;
dc=3*da; // test int-Double 
print "dc="+dc.printf("%4.24g");


// ---- benchmark some simple loops to get an idea how fast (slow) the "object" arithmetics are ----
db=1.1;
fb=1.1;
rfb=1.1;
dc=3.3;
fc=3.3;
rfc=3.3;

print "loop1"; // test mixed float-Double, Double-float, Double-Double arithmetics
t1=milliSeconds();
loop(1000000)
{
   da=2.2*db*dc*4.4; 
}
t1=milliSeconds()-t1;

print "loop2"; // test mixed float-Float, Float-float, Float-Float arithmetics
t2=milliSeconds();
loop(1000000)
  fa=2.2*fb*fc*4.4; 
t2=milliSeconds()-t2;

print "loop3"; // test "real" 32bit float arithmetics
t3=milliSeconds();
compile loop(1000000)
   rfa=2.2*rfb*rfc*4.4; 
t3=milliSeconds()-t3; // ~170 times faster than loop1 and loop2

print "t1="+t1+" t2="+t2+" t3="+t3;

