//
// ----    file: list.tks
// ----  author: bastian spiegel <bs@tkscript.de>
// ---- created: 14-Jan-2004, 28-Mar-2004, 27-Dec-2007
//

ListNode l;

l =  {1,2,new String};        // copy list (grab objects)
l <= {1,2}+{3,4,new String};  // concat lists (reference objects)
l <= {1,2}^{3,4,new String};  // concat lists (grab objects)    

print "the 3rd listnode of {1,2,3,4} is "+({1,2,3,4}.getSubList(2).string); // print list started by 3rd element
print "the 3rd value of {1,2,3,4} is "+({1,2,3,4}.getSubList(2).stringValue); // print value of 3rd element

l<={1,4,3};
l[1]=2;
trace l.string;

l<={1,2}+#("3");
trace l.debugStrings;

l<={1,2.2,"hallo"};
ListNode c;
c<=l.tail; c.append(#("welt"));
c<=l.tail; c.append(#(Object(42)));
c<=l.tail; c.append(#(new String()));

Value v;
foreach v in {1,2.2,"hi",Object(42),#(5),6}
    trace "v.type="+v.type+" v.string="+v.stringValue;
trace l;
trace l.string;

ListNode l2,l3;

function evalListExpr() {
    trace "---------------------------------";
    l2<={rnd(10),rnd(20),rnd(30),#(rnd(42))};
    l3<=l2.copy;
    c<=l3.tail; c.append(#("EOL."));
    trace l3;
    trace l3.string;
}

loop(1)
   evalListExpr();


