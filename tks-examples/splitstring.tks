// ----
// ---- file   : splitstring.tks
// ---- author : bastian spiegel <bs@tkscript.de>
// ---- date   : 17-feb-2004
// ---- license: public domain
// ---- info   : test script for string splits
// ----
// ----

int t_newStyle;
int t_oldStyle;

String s,s_list1="one two three four \"four and a half\"", s_list2="5 , 6,  7 ";
function NewStyle() {
    t_newStyle=milliSeconds();
    loop(100000)
	{
	    foreach s in s_list1.splitSpace(true) {
		//trace "s="+s;
	    }

	    foreach s in s_list2.splitChar(',') {
		//trace "s="+s;
	    }
	    
	}
    t_newStyle=milliSeconds()-t_newStyle;
}

function OldStyle() {
    t_oldStyle=milliSeconds();
    String s,s_list="one two three four \"four and a half\"";
    loop(100000)
	{
	    s_list1.words(true);
	    foreach s in s_list1 {
		//trace "s="+s;
	    }
	    s_list1.freeStack();
	    
	    s_list2.split(',');
	    foreach s in s_list2 {
		//trace "s="+s;
	    }
	    s_list2.freeStack();
	}
    t_oldStyle=milliSeconds()-t_oldStyle;
}


OldStyle();
NewStyle();

trace "t_oldStyle="+t_oldStyle+" ms";
trace "t_newStyle="+t_newStyle+" ms";

foreach s in (String("the-ozric-tentacles").splitChar('-')) { 
    trace s;
}

trace (("word1 word2 rule!").splitSpace(false)).getCopy(2);
