
Condition cond;

cond.create(false); // bManualReset=false ==> auto-reset condition after wait
boolean b_running = true;

function MyThreadEntry(local Thread t) {
   trace "begin MyThreadEntry";
   while(b_running)
   {
      int r = cond.wait(100);
      trace "cond.wait(100) returned r="+r;
   }
   trace "end MyThreadEntry";
}

Thread t;
t.create(MyThreadEntry);
TKS.sleep(2000);
b_running = false;
trace "raise condition";
cond.raise();
t.wait();
trace "cu";
