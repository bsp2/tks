// list_immutable.tks, 25-Jun-2005 <bs@tkscript.de>. This file is part of the tks-examples distribution. see <http://tkscript.de>

ListNode lsn={1,2,3,4,5};

ListNode l<=lsn.getSubList(2); // get a reference to the listnode at index 2
print "l="+#(l);
l.append(#(42)); // append returns new node
print "l="+#(l);

List ls={6,7,8,9};
l<=ls.getSubList(2); // get a reference to the listnode at index 2
print "l="+#(l);
print "the following statement triggers \"cannot operate on immutable node\" error:";
l.append(#(23)); // triggers "cannot operate on immutable node", append returns null instead of new node
print "l="+#(l); // (because the ListNodes are exclusively managed by the List "ls")

l<=new ListNode(); l=ls.getSubList(2); // get a copy of the list starting at index 2
print "l="+#(l);
l.append(#(23)); // append returns new node
print "l="+#(l);
