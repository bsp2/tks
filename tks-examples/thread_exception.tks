function MyThreadEntry(Thread _th) {
   /* ... */
   String s <= null;

   // Raise and catch critical error
   trace "raise InvalidPointer exception 1:";
   try {
      s.append("d'oh");
   } catch(InvalidPointer e) {
      trace "OK (caught)";
   }

   // Raise critical error and leave exception handling to the runtime
   trace "raise InvalidPointer exception 2: (will print stacktrace)";
   s.append("d'oh2"); // will print exception details / stacktrace to console

   trace "-- not reached --";
}

Thread th;
if(th.create(MyThreadEntry))
{
   print "thread created.";
}
else
{
   print "failed to create thread.";
}

th.wait(); // Wait until thread function has returned

trace "main exit";
