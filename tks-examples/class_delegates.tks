
// ----    file: class_delegates.tks
// ----  author: Bastian Spiegel <bs@tkscript.de>
// ---- created: 12-Aug-2005

// ----------------------------------------------------------
class AbstractAction {
   getActionName() { return "click"; }
}

class Button {
   consumeAction(AbstractAction _ac) returns boolean {
      return delegate "xfm__"+_ac.getActionName()(_ac);
   }

   callPrintTextHandler() {
      delegate "print"();
   }
}

// ----------------------------------------------------------
// <XMLForm><Button onClick='print "test";'/></XMLForm>
// ----------------------------------------------------------

Button xfm1;

// ---- Declare method that can be plugged into script object
delegate Button:Print_HelloWorld() {
   print "hello, world.";
}
delegate Button:xfm1__click(AbstractAction _ac) {
   print "delegate \"xfm1__click\" called.";
   return true; // consumed..
}

delegate xfm1:"xfm__click"=xfm1__click; // add method delegate
delegate xfm1:"print"=Print_HelloWorld; // add method delegate

xfm1.callPrintTextHandler();
xfm1.consumeAction(new AbstractAction);



