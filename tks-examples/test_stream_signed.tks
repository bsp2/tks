
/*
$ tks test_stream_signed.tks
default i8=255 i16=65535
unsigned u8=255 u16=65535
signed s8=-1 s16=-1
*/

Buffer b;
int i8 = -1;
int i16 = -1;

// Alloc
b.size = 3;
b.offset = 0;

// Write
b.i8 = 255;
b.i16 = 65535;

// Read (old-style/default) (-->unsigned)
b.offset = 0;
i8 = b.i8;
i16 = b.i16;
trace "default i8="+i8+" i16="+i16;

// Read unsigned
b.offset = 0;
i8 = b.u8;
i16 = b.u16;
trace "unsigned u8="+i8+" u16="+i16;

// Read signed
b.offset = 0;
i8 = b.s8;
i16 = b.s16;
trace "signed s8="+i8+" s16="+i16;
