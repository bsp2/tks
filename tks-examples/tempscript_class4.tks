// 09Nov2020
//  - uses unique namespace in each tempscript to avoid "class already declared" error

// class MC {
//    int j;

//    public init(int _j) {
//       j = _j;
//    }
// }


String srcTempl = "
// // namespace $(NSPNAME);
use namespace $(NSPNAME);

class MyClass {
   int i;
   float f;
   String s;

   protected method init(int _i, float _f, String _s) {
      i = _i;
      f = _f;
      s = _s;
   }

   public method echo() {
       init(42, PI, \"hello, world.\");
       trace \"i=\"+i+\" f=\"+f+\" s=\"+s;
   }
}

MyClass mc;
mc.echo();
";

Script script1;
String nspName1 = "mynsp1";
String src1 = srcTempl.replace("$(NSPNAME)", nspName1);
script1.setClassNamespace(nspName1);
script1.load(src1);
script1.eval();

Script script2;
String nspName2 = "mynsp2";
String src2 = srcTempl.replace("$(NSPNAME)", nspName2);
script2.setClassNamespace(nspName2);
script2.load(src2);
script2.eval();

script1.unload();
script2.unload();

trace "xxx exit";
