
use tkmidi;

int cbkIdx = 0;

function onMIDITimer(MIDITimer _timer) {
   trace "onMIDITimer called "+(cbkIdx++);
}

MIDITimer timer;

trace "opening timer";
timer.open(null/*name*/);

TKS.sleep(1000);

trace "starting timer";
timer.start(0/*delayMS*/, 200/*intervalMS*/, onMIDITimer);

TKS.sleep(5000);

trace "stopping timer";
timer.stop();

TKS.sleep(500);
trace "starting timer again";
timer.start(0/*delayMS*/, 100/*intervalMS*/, onMIDITimer);
TKS.sleep(2000);
trace "stopping timer again";
timer.stop();

TKS.sleep(1000);
trace "exiting..";
