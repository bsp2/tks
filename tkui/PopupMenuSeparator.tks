// ----
// ---- file   : PopupMenuSeparator.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2007-2018 by Bastian Spiegel. 
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See 
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "ui" toolkit.
// ----
// ---- changed: 29Apr2007, 14May2007, 22Apr2010, 16Feb2018, 16Oct2018, 27Nov2018
// ----          
// ----
// ----

module MPopupMenuSeparator;

namespace ui;


class PopupMenuSeparator extends Layer {
   
   define int SIZE_Y = 8;
   define int MIN_SIZE_X = 20;


   public method initPopupMenuSeparator() {
      initLayer();
      b_redraw_parent = UI.b_transparent_layers; // [16Oct2018] fix mouseover color trails
   }

   public virtual getPreferredSizeX() : float {
      return MIN_SIZE_X;
   }

   public virtual getPreferredSizeY() : float {
      return SIZE_Y;
   }

   public virtual getMinimumSizeX() : float {
      return MIN_SIZE_X;
   }

   public virtual getMinimumSizeY() : float {
      return SIZE_Y;
   }

   public virtual onDraw() {
      // UIRenderer.SetLineWidth(1.0);
      // UIRenderer.DrawLine(2, 4, size_x-2, 4, lnf_colors.get(LookAndFeel.COLOR_POPUPMENU_SEPARATOR_T));
      // UIRenderer.DrawLine(2, 5, size_x-2, 5, lnf_colors.get(LookAndFeel.COLOR_POPUPMENU_SEPARATOR_B));
      UIRenderer.DrawFilledRectangle(2, 4, size_x-2*2, 1, lnf_colors.get(LookAndFeel.COLOR_POPUPMENU_SEPARATOR_T));
      UIRenderer.DrawFilledRectangle(2, 5, size_x-2*2, 1, lnf_colors.get(LookAndFeel.COLOR_POPUPMENU_SEPARATOR_B));
   }

   public virtual beginXFMTag(AbstractXMLForm _form, HashTable _attributes) : boolean {
      initPopupMenuSeparator();
      setAlignment(Layout.EXPANDX);
      return true;
   }

}
