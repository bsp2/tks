// ----
// ---- file   : View.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2006-2020 by Bastian Spiegel. 
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See 
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "ui" toolkit.
// ----
// ---- changed: 13Aug2006, 20Sep2014, 27Dec2020
// ----
// ----

module MView;

namespace ui;


class View extends XFMObject {
   public Layer  *layer;
   public Label   label;
   public boolean b_layout_done;


   public static New(Layer _layer, String _caption, int _textPlacement, Icon _icon, int _iconPlacement) : View {
      local View v;
      v.init(deref _layer, deref _caption, _textPlacement, deref _icon, _iconPlacement);
      return deref v;
   }

   public method init(Layer _layer, String _caption, int _textPlacement, Icon _icon, int _iconPlacement) {
      layer <= deref _layer;
      label.initLabel();
      label.setCaption(deref _caption);
      label.setTextPlacement(_textPlacement);
      label.setIcon(deref _icon);
      label.setIconPlacement(_iconPlacement);
      label.setFontByName(UIConstants.DEFAULT_FONT_NAME_TABBEDVIEW_INACTIVE);
   }

   public method beginXFMTag(AbstractXMLForm _form, HashTable _attributes) : boolean {
      label.setTextPlacement(Layout.CENTER);
      if(label.beginXFMTag(_form, _attributes))
         return true;
   }

   public method addXFMChild(Layer _l) {
      layer <= deref _l;
   }
   
}
