<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.57 in css mode. -->
<html>
  <head>
    <title>cellular.org</title>
    <style type="text/css">
    <!--
      body {
        font-size: x-large;
        color: #000000;
        background-color: #ffffff;
      }
      .comment {
        /* font-lock-comment-face */
        color: #b22222;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #b22222;
      }
      .constant {
        /* font-lock-constant-face */
        color: #008b8b;
      }
      .default {
        /* default */
        color: #000000;
        background-color: #ffffff;
      }
      .doc {
        /* font-lock-doc-face */
        color: #8b2252;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .highlight {
        /* highlight */
        background-color: #b4eeb4;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .negation-char {
      }
      .org-block {
        /* org-block */
        color: #7f7f7f;
        background-color: #f3f3f3;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #ececec;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #ececec;
      }
      .org-code {
        /* org-code */
        color: #7f7f7f;
      }
      .org-document-info {
        /* org-document-info */
        color: #191970;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #7f7f7f;
      }
      .org-document-title {
        /* org-document-title */
        color: #191970;
        font-weight: bold;
      }
      .org-drawer {
        /* org-drawer */
        color: #0000ff;
      }
      .org-hide {
        /* org-hide */
        color: #ffffff;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #0000ff;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #a0522d;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #a020f0;
      }
      .org-link {
        /* org-link */
        color: #3a5fcd;
        text-decoration: underline;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #ececec;
      }
      .org-special-keyword {
        /* org-special-keyword */
        color: #a020f0;
      }
      .org-warning {
        /* org-warning */
        color: #ff0000;
        font-weight: bold;
      }
      .preprocessor {
        /* font-lock-preprocessor-face */
        color: #483d8b;
      }
      .string {
        /* font-lock-string-face */
        color: #8b2252;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #a0522d;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-drawer">:PROPERTIES:</span>
<span class="org-document-info-keyword">#+title:</span> <span class="org-document-title">cellular programming test document
</span><span class="org-document-info-keyword">#+author:</span> <span class="org-document-info">bsp
</span>
 See also: <span class="org-link"><a href="file:literate.org::*test 2 (literate)">test 2 (literate)</a></span>

<span class="org-level-1">* </span><span class="org-level-1"><span class="org-special-keyword">COMMENT</span></span><span class="org-level-1"> execute source block under cursor with C-c C-c (org-babel-execute-src-block)</span>


<span class="org-level-1">* source blocks</span>

<span class="org-hide">*</span><span class="org-level-2">* lisp</span>
<span class="org-block-begin-line">   #+begin_src emacs-lisp
</span><span class="org-block">     (</span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">org-xor</span></span><span class="org-block"> (a b)
       </span><span class="org-block"><span class="doc">"Exclusive or."</span></span><span class="org-block">
       (</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> a (not b) b))
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: org-xor
</span>   
<span class="org-hide">*</span><span class="org-level-2">* C</span>
   ;; :results value raw
<span class="org-block-begin-line">   #+begin_src C :results output replace
</span><span class="org-block"><span class="preprocessor">     #include</span></span><span class="org-block"> </span><span class="org-block"><span class="string">&lt;stdio.h&gt;</span></span><span class="org-block">
     </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">main</span></span><span class="org-block">(</span><span class="org-block"><span class="type">void</span></span><span class="org-block">) {
        printf(</span><span class="org-block"><span class="string">"hello, world!\n"</span></span><span class="org-block">);
        </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> 0;
     }
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: hello, world!
</span>
<span class="org-hide">*</span><span class="org-level-2">* Python</span>
<span class="org-block-begin-line">   #+begin_src python
</span><span class="org-block">   </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"hello, world."</span></span><span class="org-block">
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: hello, world.
</span>
<span class="org-hide">*</span><span class="org-level-2">* Shell</span>
<span class="org-block-begin-line">   #+begin_src shell :results output replace :eval query
</span><span class="org-block">     ls
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
<span class="org-block-begin-line">   #+begin_example
</span><span class="org-block">   cellular.org
   cellular.org.html
   literate.org
   literate.org.html
   myfs1.png
   myfs2.png
   myfunc.png
   myfunc2.png
   org-mode-unicorn.svg
   test_client.org
   test_client.org.html
</span><span class="org-block-end-line">   #+end_example
</span>
<span class="org-block-begin-line">   #+begin_src shell :results file link :file "org-mode-unicorn.svg" :eval query
</span><span class="org-block">     wget -c </span><span class="org-block"><span class="string">"<a href="https://orgmode.org/resources/img/org-mode-unicorn.svg">https://orgmode.org/resources/img/org-mode-unicorn.svg</a>"</span></span><span class="org-block">
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <img src="org-mode-unicorn.svg" alt="file:org-mode-unicorn.svg" />

<span class="org-hide">*</span><span class="org-level-2">* TKS</span>
<span class="org-hide">**</span><span class="org-level-3">* test 1 (hello, world.)</span>
<span class="org-block-begin-line">   #+begin_src tks :results output replace
</span><span class="org-block">     trace </span><span class="org-block"><span class="string">"hello, world."</span></span><span class="org-block">;
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: hello, world.
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 2 (version)</span>
<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-v" :results output replace
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: 0.9.86.6 (arm64)
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 3 (class)</span>
<span class="org-block-begin-line">   #+begin_src tks :results output replace
</span><span class="org-block">     </span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">MyClass</span></span><span class="org-block">{test{trace </span><span class="org-block"><span class="string">"this.type="</span></span><span class="org-block">+typename(</span><span class="org-block"><span class="keyword">this</span></span><span class="org-block">)+</span><span class="org-block"><span class="string">" this.class="</span></span><span class="org-block">+yacMetaClassName();}}
     </span><span class="org-block"><span class="type">MyClass</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">c</span></span><span class="org-block">; c.test();
     trace [1 2 3 4];
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: this.type=Class this.class=MyClass
</span>   <span class="org-code">: [1, 2, 3, 4]
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 4 (args)</span>
<span class="org-block-begin-line">   #+begin_src tks :args "1 '2 2.5' 3" :results output replace :eval yes
</span><span class="org-block">     </span><span class="org-block"><span class="type">trace</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">Arguments</span></span><span class="org-block">;
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: ["1", "2 2.5", "3"]
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 5 (plot)</span>
<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ef lib:plot" :results output replace :eval yes
</span><span class="org-block">     </span><span class="org-block"><span class="type">function</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">myfunc</span></span><span class="org-block">(</span><span class="org-block"><span class="type">float</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> pow(sin(x), 3); }
     </span><span class="org-block"><span class="constant">Plot</span></span><span class="org-block">.Run(myfunc, 0, 2PI);
     trace </span><span class="org-block"><span class="string">"plot finished"</span></span><span class="org-block">;
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: plot finished
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 6 (plot to PNG)</span>
<span class="org-meta-line">   #+xxbegin_src tks :cmd-line "-ef lib:plot" :results file link :file "myfunc.png" :wrap "org \n#+ATTR_HTML: :width 640"</span>
<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ef lib:plot" :results file link :file "myfunc.png"
</span><span class="org-block">     </span><span class="org-block"><span class="type">function</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">myfunc</span></span><span class="org-block">(</span><span class="org-block"><span class="type">float</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> pow(sin(x), 3) * 0.9; }
     </span><span class="org-block"><span class="constant">Plot</span></span><span class="org-block">.SetSize(640, 240); </span><span class="org-block"><span class="constant">Plot</span></span><span class="org-block">.SavePNG(</span><span class="org-block"><span class="string">"myfunc.png"</span></span><span class="org-block">, myfunc, 0, 2PI);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <img src="myfunc.png" alt="file:myfunc.png" />

<span class="org-hide">**</span><span class="org-level-3">* test 7 (plot to PNG 2)</span>
<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ef lib:plot" :results file link :file "myfunc2.png"
</span><span class="org-block">     </span><span class="org-block"><span class="type">function</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">myfunc</span></span><span class="org-block">(</span><span class="org-block"><span class="type">float</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> sin(x + 0.25 * pow(sin(2*x), 3)) * 0.95; }
     </span><span class="org-block"><span class="constant">Plot</span></span><span class="org-block">.SetSize(640, 240); </span><span class="org-block"><span class="constant">Plot</span></span><span class="org-block">.SavePNG(</span><span class="org-block"><span class="string">"myfunc2.png"</span></span><span class="org-block">, myfunc, 0, 2PI);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <img src="myfunc2.png" alt="file:myfunc2.png" />

<span class="org-hide">**</span><span class="org-level-3">* test 8 (plot fragment shader 1)</span>
<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ep lib:plot-fs" :results output replace :eval yes
</span><span class="org-block">     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.Run(</span><span class="org-block"><span class="string">"c = vec4(sin(p.x*M_2PI*4), fract(u_t), sin(p.y*M_2PI*9), 0,1);"</span></span><span class="org-block">);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: 57 frames rendered.
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 9 (plot fragment shader 2)</span>
<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ep lib:plot-fs" :results output replace :eval yes
</span><span class="org-block">     String sFS &lt;= </span><span class="org-block"><span class="string">"vec2 t; float d = 0; float s = 0.6;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*1.31), sin(u_t*1.7)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d += 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*-0.93), sin(u_t*1.9)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d -= 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*-0.43), sin(u_t*-1.1)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d += 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*0.43), sin(u_t*1.1)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d -= 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"if(d &lt; 0.0) d = -d;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d = clamp(pow(d, 2.3), 0.0, 2.0);"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"c = vec4(mix(vec3(0.05+0.05*(1.0-p.y),0.2+0.1*(1.0-p.y),0.175+0.175*(1.0-p.y)), vec3(0.8+0.1*(1.0-p.x),0.7,0.2), d), 1);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"p = (p * 0.5) + 0.5;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"p *= 1.0 - p.yx;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d = pow(p.x*p.y*23, 0.85+sin(u_t*0.5)*0.6) * 1.0;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"c *= d;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="comment-delimiter">//</span></span><span class="org-block"><span class="comment">"c = mix(vec4(1,1,1,1), c, d);"
</span></span><span class="org-block">        ;
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.Run(sFS);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: 105 frames rendered.
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 10 (plot fragment shader to PNG)</span>

<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ep lib:plot-fs" :results file link :file "myfs1.png"
</span><span class="org-block">     String sFS &lt;= </span><span class="org-block"><span class="string">"vec2 t; float d = 0; float s = 0.6;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*1.31), sin(u_t*1.7)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d += 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*-0.93), sin(u_t*1.9)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d -= 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*-0.43), sin(u_t*-1.1)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d += 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"t = vec2(p - s*vec2(sin(u_t*0.43), sin(u_t*1.1)));"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d -= 1.0 - clamp(sqrt(t.x*t.x + t.y*t.y), 0.0, 1.0);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"if(d &lt; 0.0) d = -d;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d = clamp(pow(d, 2.3), 0.0, 2.0);"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"c = vec4(mix(vec3(0.05+0.05*(1.0-p.y),0.2+0.1*(1.0-p.y),0.175+0.175*(1.0-p.y)), vec3(0.8+0.1*(1.0-p.x),0.7,0.2), d), 1);"</span></span><span class="org-block">

        </span><span class="org-block"><span class="string">"p = (p * 0.5) + 0.5;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"p *= 1.0 - p.yx;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"d = pow(p.x*p.y*23, 2.85+sin(u_t*0.5)*0.6) * 1.0;"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"c = mix(vec4(1,1,1,1), c, d);"</span></span><span class="org-block">
     ;
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.SetT(36.15); </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.SetSize(640, 480);
     </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> 0 </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.Run(sFS); </span><span class="org-block"><span class="keyword">else</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.SavePNG(</span><span class="org-block"><span class="string">"myfs1.png"</span></span><span class="org-block">, sFS);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+RESULTS:</span>
   <img src="myfs1.png" alt="file:myfs1.png" />

<span class="org-hide">**</span><span class="org-level-3">* test 11 (plot fragment shader with controls)</span>

<span class="org-block-begin-line">   #+begin_src tks :cmd-line "-ep lib:plot-fs" :results output replace :eval yes
</span><span class="org-block">     String sFS &lt;= </span><span class="org-block"><span class="string">"c = vec4(u_r + u_r*sin(u_t+sin(p.x*M_2PI*0.4 * p.y))*u_scl1, "</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"u_g + u_g*sin(u_t*1.3 + sin( ((p.x*0.5)+(p.y*0.6))*M_2PI*0.5)*0.2)*u_scl2, "</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"u_b+u_b*sin(u_t*p.x*1.1)*sin(u_t*1.23*p.y)*u_scl3, 1);"</span></span><span class="org-block">
        ;
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.SetT(122.3); </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.SetSize(640, 240);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.AddCtl(</span><span class="org-block"><span class="string">"r"</span></span><span class="org-block">, 0.5);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.AddCtl(</span><span class="org-block"><span class="string">"g"</span></span><span class="org-block">, 0.6);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.AddCtl(</span><span class="org-block"><span class="string">"b"</span></span><span class="org-block">, 0.7);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.AddCtl(</span><span class="org-block"><span class="string">"scl1"</span></span><span class="org-block">, 0.05);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.AddCtl(</span><span class="org-block"><span class="string">"scl2"</span></span><span class="org-block">, 0.1);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.AddCtl(</span><span class="org-block"><span class="string">"scl3"</span></span><span class="org-block">, 0.7);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.SetPNGOutput(</span><span class="org-block"><span class="string">"myfs2.png"</span></span><span class="org-block">, 1</span><span class="org-block"><span class="comment-delimiter">/*</span></span><span class="org-block"><span class="comment">bCtls</span></span><span class="org-block"><span class="comment-delimiter">*/</span></span><span class="org-block">);
     </span><span class="org-block"><span class="constant">PlotFS</span></span><span class="org-block">.Run(sFS);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
<span class="org-block-begin-line">   #+begin_example
</span><span class="org-block">   [dbg] UI.SaveScreenShotPNG: pathName="myfs2.png" off=(0,0) s=(640,460)
   [...] Texture::saveImage("myfs2.png")
   [...] exportPNG: wrote "myfs2.png"
   PlotsFS.AddCtl("r", 0.0877309);
   PlotsFS.AddCtl("g", 0.6);
   PlotsFS.AddCtl("b", 0.7);
   PlotsFS.AddCtl("scl1", 0.05);
   PlotsFS.AddCtl("scl2", 0.641117);
   PlotsFS.AddCtl("scl3", 0.7);
   238 frames rendered.
</span><span class="org-block-end-line">   #+end_example
</span>   <img src="myfs2.png" alt="file:myfs2.png" />

<span class="org-hide">*</span><span class="org-level-2">* TKS-remote</span>
  * start test_host
   Must done on shell (editor hangs otherwise)
<span class="org-block-begin-line">   #+begin_src shell :results output replace :eval query
</span><span class="org-block">     </span><span class="org-block"><span class="comment-delimiter">#</span></span><span class="org-block"><span class="comment">!/bin/zsh
</span></span><span class="org-block">     </span><span class="org-block"><span class="comment-delimiter">#</span></span><span class="org-block"><span class="comment">setopt NO_HUP
</span></span><span class="org-block">     tks app:test_host &amp;</span><span class="org-block"><span class="negation-char">!</span></span><span class="org-block">
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
<span class="org-meta-line">   #+results:</span>
   <span class="org-code">: 
</span>
<span class="org-hide">**</span><span class="org-level-3">* test 1 (live coding)</span>
   Connects to script host <span class="org-code">~test_host~</span> and evaluates some code in the context of the running host program.
   The host <span class="org-code">~MyAPI~</span> provides a few members and methods to play with.
<span class="org-block-begin-line">   #+begin_src tks-rs :host "test_host" :results output replace
</span><span class="org-block">     trace </span><span class="org-block"><span class="string">"hello, world."</span></span><span class="org-block">;
     trace </span><span class="org-block"><span class="string">"i="</span></span><span class="org-block">+MyAPI.i+</span><span class="org-block"><span class="string">" f="</span></span><span class="org-block">+MyAPI.f+</span><span class="org-block"><span class="string">" s=\""</span></span><span class="org-block">+MyAPI.s+</span><span class="org-block"><span class="string">"\""</span></span><span class="org-block">;
     trace </span><span class="org-block"><span class="string">"MyAPI.Add(23, 42)="</span></span><span class="org-block">+</span><span class="org-block"><span class="constant">MyAPI</span></span><span class="org-block">.Add(23, 42);
     trace </span><span class="org-block"><span class="string">"MyAPI.Add(1.23, 4.56)="</span></span><span class="org-block">+</span><span class="org-block"><span class="constant">MyAPI</span></span><span class="org-block">.Add(1.23, 4.56);
</span><span class="org-block-end-line">   #+end_src
</span><span class="org-meta-line">   #+results:</span>
   <span class="org-code">: hello, world.
</span>   <span class="org-code">: i=42 f=3.14159 s="mystring"
</span>   <span class="org-code">: MyAPI.Add(23, 42)=65
</span>   <span class="org-code">: MyAPI.Add(1.23, 4.56)=5.79
</span>

<span class="org-level-1">* Link test</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-warning">TODO</span></span><span class="org-level-2"> move to another document</span>

<span class="org-hide">**</span><span class="org-level-3">* some section</span>
    an anchor that the link below refers to

<span class="org-hide">**</span><span class="org-level-3">* links</span>
    M-x org-store-link
    C-c C-L : insert link  (C-u C-c C-L inserts file link)
    C-c C-l : edit link
    C-c C-o : open link
    <span class="org-link"><a href="file:~/tmp/t.txt">file:~/tmp/t.txt</a></span>

    link to <span class="org-link"><a href="*some section">some section</a></span>
    link to <span class="org-link"><a href="file:~/Projects/emacs_cheats.txt::org mode links">file:~/Projects/emacs_cheats.txt::org mode links</a></span>
    ~/Projects/emacs_cheats.txt

<span class="org-level-1">* Notes</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-special-keyword">COMMENT</span></span><span class="org-level-2"> use ":results output discard" to quietly ignore stdout messages</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-special-keyword">COMMENT</span></span><span class="org-level-2"> ":eval query" forces confirmation</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-special-keyword">COMMENT</span></span><span class="org-level-2"> M-x org-toggle-inline-images</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-special-keyword">COMMENT</span></span><span class="org-level-2"> M-x htmlize-buffer</span>
</pre>
  </body>
</html>
