// $ tks -ef "lib:plot-fs" test

String s_fs = "
   c = vec4(p.x*2.0+1.0, pow(sin(fract(u_t*0.25) * 6.28318530718)*0.5+0.5, 0.5), p.y*2.0+1.0, 1);
   // c = vec4(sin(p.x*M_2PI*4), sin(p.y*M_2PI*9), 0,1);
";

// if(0)
//    PlotFS.SavePNG("test.png", s_fs);
// else
//    PlotFS.Run(s_fs);


String sFS <= "c = vec4(u_r + u_r*sin(u_t+sin(p.x*M_2PI*0.4 * p.y))*u_scl1, u_g + u_g*sin(u_t*1.3 + sin( ((p.x*0.5)+(p.y*0.6))*M_2PI*0.5)*0.2)*u_scl2, u_b+u_b*sin(u_t*p.x*1.1)*sin(u_t*1.23*p.y)*u_scl3, 1);";
PlotFS.SetT(122.3); PlotFS.SetSize(640, 240);
// PlotFS.SetPNGOutput("myfs1.png", 1/*bCtls*/);
PlotFS.AddCtl("r", 0.5);
PlotFS.AddCtl("g", 0.6);
PlotFS.AddCtl("b", 0.7);
PlotFS.AddCtl("scl1", 0.05);
PlotFS.AddCtl("scl2", 0.1);
PlotFS.AddCtl("scl3", 0.1);
PlotFS.Run(sFS);
// PlotFS.SavePNG("myfs1.png", sFS);
