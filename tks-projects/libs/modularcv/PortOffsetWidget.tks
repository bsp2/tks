// ----
// ---- file   : PortOffsetWidget.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2021-2024 by Bastian Spiegel.
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   :
// ----
// ---- created: 26Mar2021
// ---- changed: 27Mar2021, 29Mar2021, 30Mar2021, 01Apr2021, 12Apr2021, 16Apr2021, 19Apr2021
// ----          07May2021, 13Nov2021, 27Dec2021, 28Dec2021, 21Feb2022, 08Oct2023, 11Nov2023
// ----          29Mar2024, 18Sep2024, 08Oct2024, 09Oct2024, 10Oct2024, 16Nov2024
// ----
// ----
// ----

module MModularCVPortOffsetWidget;

use namespace ui;
use namespace st2;
namespace modularcv;


// <class.png>
class PortOffsetWidget : ui::FloatParam {

   public method initPortOffsetWidget(int _cur) {
      initFloatParam();
      if(!app_lnf.b_dark_modular)
         setLookAndFeelLight();
      setRequiredSize2fScaled(20, FloatParam.MIN_SIZE_Y);
      setMinMaxValues(1, NodeModular.NUM_PORTS);
      setPrecision(0);
      setStep(1);
      setValue(_cur + 1);
      setVisibleTextLength(2);
      setMaxTextLength(2);
      setEnableCenterAlign(true);
      setEnableCursorKeyTabCycling(false);
      setEnableCursorLeftRight(true);  // send ACTION_CURSOR* instead of propagating to parent (=> really disable tab cycling)
   }

}
