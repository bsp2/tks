// ----
// ---- file   : vst2rescan.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2024 by Bastian Spiegel.
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : Rescan all VST2 plugins (incrementally)
// ----
// ---- created: 13Jan2024
// ---- changed: 24Nov2024
// ----
// ----
// ----

int iter = 0;
int maxIter = 50;
loop(maxIter)
{
   iter++;
   int r = system("\""+TKS.tksExePath+"\" eureka scan_vst2");
   trace "[dbg] vst2scanall["+iter+"/"+maxIter+"]: r="+r;
   if(0 == r)
   {
      trace "[...] vst2rescan["+iter+"/"+maxIter+"]: plugin scan done, exiting.";
      break;
   }
   else
   {
      trace "[...] vst2rescan["+iter+"/"+maxIter+"]: plugin scan incomplete, continuing..";
   }
}
