// ----
// ---- file   : ModGridButtonBase.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2018 by Bastian Spiegel.
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "syntracker" midi/audio sequencer.
// ----
// ---- created: 12Feb2018
// ---- changed: 13Feb2018, 15Feb2018, 17Feb2018, 21Feb2018, 22Feb2018, 23Feb2018, 24Feb2018
// ----          29Nov2018
// ----
// ----
// ----

module MModGridButtonBase;

use namespace ui;
use namespace st2;


// <class.png>
class ModGridButtonBase : Button, ActionConsumer {

   define int DELETE_TINT32_ACTIVE   = #241f0000;
   define int DELETE_TINT32_INACTIVE = #0c3f0000;

   ModGrid *parent_modgrid;

   protected PopupMenu *pm_context;

   public int grid_x;
   public int grid_y;
   public int num_lanes;


   // <ui_timer.png>
   public method handleIdleTimer() {
   }

   // <ui_render.png>
   public method drawGridBorder() {

      float w = getSizeX();
      float h = getSizeY();

      UIRenderer.DrawLine(0, h-1, w, h-1, #ff000000);
   }

   // <ui_render.png>
   public virtual onDraw() {
      Button::onDraw();

      drawGridBorder();
   }

}
