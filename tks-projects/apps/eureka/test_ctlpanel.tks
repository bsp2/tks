

use tksdl;
use tkportaudio;

function onKeyboard(Key _k) {
   trace "xxx onKeyboard: k.code="+_k.code+" mod="+_k.mod+" unicode="+_k.unicode+" "+tcchar(_k.unicode);
   switch(_k.pressed)
   {
      case VKEY_SPACE:
         PortAudio.ShowControlPanel(0/*devIdx*/, SDL.nativeWindowHandle);
         // SDL.waitForOtherWindow();
         break;
         
      case VKEY_ESCAPE:
         SDL.exitEventLoop();
         break;
   }
}

use callbacks;

Viewport.openWindow(640, 480);

PortAudio.Initialize();
PaDeviceInfo devInfo <= PortAudio.GetDeviceInfo(0);
if(null != devInfo)
{
   SDL.eventLoop();
}


