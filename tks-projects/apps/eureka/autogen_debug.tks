use namespace st2;
use namespace ui;
// -------------------------------------------------------------------
String sampleName <= "render_sine";
Sample sample <= current_project.findSampleByUniqueName(sampleName);
if(null != sample)
{
   StWaveform wf <= sample.waveform;
   if(1 == wf.numChannels)
   {
      FloatArray smpDat <= wf.sampleData;
      float w = (2PI * Sample.BASE_FREQ_MIDDLE_C) / wf.sampleRate;
      float a = 0;
      float sLvl = 1.0f / wf.numFrames;
      float cLvl = 1.0f;
      int i = 0;
      loop(wf.numFrames)
      {
         smpDat[i++] = sin(a) * cLvl;
         a += w;
         cLvl -= sLvl;
      }
      UI.RedrawAll();
      trace "[...] rendered "+wf.numFrames+" frames to sample \""+sampleName+"\"";
   }
   else
      trace "[---] sample \""+sampleName+"\" is not mono";
}
else
   trace "[---] sample \""+sampleName+"\" not found";
// -------------------------------------------------------------------
var ___________________end___________________;
