// ----
// ---- file   : garginitpulse.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2020 by Bastian Spiegel.
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "GL edit" application.
// ----
// ---- created: 24Jul2020
// ---- changed:
// ----
// ----
// ----
module MGArgInitPulse;

use namespace ui;
use namespace gledit;


// <class.png>
class GArgInitPulse : GArg {

   // <method.png>
   public virtual initIO() {
      GArg::initIO();
      addOutput(GOutput.OUT_DEF, TYPE_BOOL);
   }

   // <method_get.png>
   public virtual getInitialArgType() : int {
      return TYPE_BOOL;
   }

   // <method_get.png>
   public virtual getPreferredIdPrefix() : String {
      return "init_pulse";
   }

   // <method.png>
   public virtual emit(local String       _outputId,
                       local GModule      _module,
                       local GProgram     _program,
                       local String       _out,
                       local String       _dstVar,
                       local boolean      _bGLSL,
                       local PointerArray _objDone
                       ) {

      local String varName <= getVarName();

      switch(_outputId)
      {
         case GOutput.OUT_DEF:
            _out.append(_dstVar+" = g_init;\n");
            break;
      }
   }
}
