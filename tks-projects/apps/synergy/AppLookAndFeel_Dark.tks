// ----
// ---- file   : AppLookAndFeel_Dark.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2018-2025 by Bastian Spiegel.
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "syntracker" sequencer.
// ----
// ---- changed: 28Nov2018, 29Nov2018, 30Nov2018, 01Dec2018, 02Dec2018, 06Dec2018, 10Jan2019
// ----          08Jun2019, 20Sep2019, 24Sep2019, 04Oct2019, 05Oct2019, 23Oct2019, 25Oct2019
// ----          01Nov2019, 07Apr2020, 08Apr2020, 12Apr2020, 13Apr2020, 14Apr2020, 15Apr2020
// ----          16Apr2020, 17Apr2020, 23Apr2020, 24Apr2020, 06May2020, 08May2020, 09May2020
// ----          13May2020, 07Nov2020, 01Feb2021, 16Apr2021, 20Apr2021, 15May2021, 02Jun2021
// ----          20Jun2021, 25Jul2021, 28Jul2021, 12Feb2022, 21Feb2022, 22Feb2022, 18Mar2022
// ----          08Apr2022, 12Aug2022, 29Sep2022, 30Sep2022, 05Oct2022, 04Mar2023, 28Jul2023
// ----          01Nov2023, 02Nov2023, 02Oct2024, 07Jan2025, 24Jan2025, 26Jan2025, 07Mar2025
// ----
// ----
// ----

module MAppLookAndFeel_Dark;

use namespace ui;
use namespace st2;


// <class.png>
class AppLookAndFeel_Dark : AppLookAndFeel {

   public method initAppLookAndFeel() {
      AppLookAndFeel::initAppLookAndFeel();
   }

   public virtual getName() : String {
      return LookAndFeel.DARK;
   }

   protected virtual initColors() {
      AppLookAndFeel::initColors();

      LookAndFeel lnfDark <= UI.GetLookAndFeel(LookAndFeel.DARK);

      // -------- NodeArranger --------
      colors[COLOR_ARRANGER_TIMELINE_BG_EVEN_SCRATCH]                = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf121416);//lnfGetTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf181a1c);
      colors[COLOR_ARRANGER_TIMELINE_BG_ODD_SCRATCH]                 = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf1c1e20);

      colors[COLOR_ARRANGER_TIMELINE_BG_EVEN_MAIN]                   = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf101214);
      colors[COLOR_ARRANGER_TIMELINE_BG_ODD_MAIN]                    = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf181b1e);
      colors[COLOR_ARRANGER_TIMELINE_TICK]                           = #ff505050;
      colors[COLOR_ARRANGER_TIMELINE_BEAT_MARKER]                    = #ff2f2f2f;
      colors[COLOR_ARRANGER_TIMELINE_BEAT_LABEL]                     = #ff707070;
      colors[COLOR_ARRANGER_TIMELINE_BAR_MARKER]                     = #ff3f3f3f;
      colors[COLOR_ARRANGER_TIMELINE_BAR_LABEL]                      = #ff909090;
      colors[COLOR_ARRANGER_TIMELINE_HL_TRACK]                       = #0dffffff;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_LABEL_FG]                  = #ffaaaab2;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_LABEL_FG_AUDIO]            = #ffaaaab2;
      colors[COLOR_ARRANGER_TIMELINE_MARKER_CLIP_BG]                 = #ffaabbba;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_BG]                        = #ff454647;//#ffb2b1b0;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_BG_AUDIO]                  = #ff404142;  // #ff506152
      colors[COLOR_ARRANGER_TIMELINE_MARKER_CLIP_SELECT_BG]          = #ff88e0ff;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_SELECT_BG]                 = #ff88b4cf;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_SELECT_BG_AUDIO]           = #ff88bccf;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_EMPTY_TINT]                = #30000000;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_START_FLAT]                = #ff282c28;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_MUTE_LINE]                 = #709f2020;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_DRAG]                      = #ffaaccff;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_DRAG_OVERLAP]              = #ffffaa88;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_AUDIO_FG]                  = #ffd4dcd4;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_AUDIO_SELECT_FG]           = #ff66ccbb;
      colors[COLOR_ARRANGER_TIMELINE_LOCATOR_ICON_TINT]              = #40ffffff;
      colors[COLOR_ARRANGER_TIMELINE_LOCATOR_ICON_DRAG_TINT]         = #207fff7f;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_EDIT_MARKER]            = #1cffffff;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_EDIT_KBD_MARKER]        = #07efefef;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_PLAYPOS_MARKER]         = #a0ffff70;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_PLAYPOS_IDLE_MARKER]    = #18ffffff;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_SELECTION_DRAG_OVERLAP] = #a0ff7f00;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_SELECTION_DRAG_NEWCLIP] = #c0ffff00;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_SELECTION]              = #70ffff00;
      colors[COLOR_ARRANGER_TIMELINE_AUTODEV_NOT_UNIQUE_LABEL_TINT]  = #207f0000;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_MUTE_DEF_TINT]            = #4000a000;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_MUTE_TINT]                = #60ff0000;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_MUTE_SOLO_TINT]           = #4000ff00;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_SOLO_DEF_TINT]            = 0;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_SOLO_TINT]                = #a0ffff00;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_LOCK_DEF_TINT]            = 0;
      colors[COLOR_ARRANGER_TIMELINE_TRACK_LOCK_TINT]                = #80ffff00;
      colors[COLOR_ARRANGER_TIMELINE_MARKER_CLIP_SELECT_FG]          = #ff000000;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_SELECT_FG]                 = #ff000000;
      colors[COLOR_ARRANGER_TIMELINE_CLIP_SELECT_FG_AUDIO]           = #ffffffff;
      colors[COLOR_ARRANGER_TIMELINE_MARKER_CLIP_LABEL_FG]           = #ff000000;
      colors[COLOR_ARRANGER_TIMELINE_UNAVAIL_TRACK_TINT]             = #30ff0000;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_GRID_POS]               = #2fffffff;
      colors[COLOR_ARRANGER_TIMELINE_OVERLAY_GRID_POS_START]         = #e0ffffff;
      colors[COLOR_ARRANGER_LIVEREC_OPTION_TINT]                     = #30ea8932;

      // -------- Device name bg colors --------
      colors[COLOR_DEV_OPEN]     = 0;
      colors[COLOR_DEV_UNAVAIL]  = #1cff1828;
      colors[COLOR_DEV_INTERNAL] = #10ffff00;

      // -------- PipeMap --------
      colors[COLOR_PIPEMAP_BG_TINT]                            = #10000000;
      colors[COLOR_PIPEMAP_PIPE_CAPTION_FG]                    = #ffefefef;
      colors[COLOR_PIPEMAP_PIPE_CUR_BORDER_TINT]               = #ff000000;
      colors[COLOR_PIPEMAP_PIPE_CUR_SEL_BORDER_TINT]           = #ffb1b1a0;
      colors[COLOR_PIPEMAP_PIPE_CUR_SEL_PREV_BORDER_TINT]      = #4fffe000;
      colors[COLOR_PIPEMAP_PIPE_OTHER_SEL_BORDER_TINT]         = #ffffffff;
      colors[COLOR_PIPEMAP_PIPE_OTHER_SEL_PREV_BORDER_TINT]    = #ffffe100;
      colors[COLOR_PIPEMAP_PIPE_OTHER_BORDER_TINT]             = #10000000;
      colors[COLOR_PIPEMAP_NODE_CAPTION_FG]                    = #ffefefef;
      colors[COLOR_PIPEMAP_NODE_CUR_BORDER_TINT]               = #af000000;
      colors[COLOR_PIPEMAP_NODE_CUR_SEL_BORDER_TINT]           = #ffb1b1a0;
      colors[COLOR_PIPEMAP_NODE_CUR_SEL_PREV_BORDER_TINT]      = #4fffe100;
      colors[COLOR_PIPEMAP_NODE_OTHER_SEL_BORDER_TINT]         = #ffffffff;
      colors[COLOR_PIPEMAP_NODE_OTHER_SEL_PREV_BORDER_TINT]    = #ffffe100;
      colors[COLOR_PIPEMAP_NODE_OTHER_BORDER_TINT]             = #10000000;
      colors[COLOR_PIPEMAP_PIPENODE_BT_INFOICON]               = #c0ffffff;
      colors[COLOR_PIPEMAP_PIPENODE_BT_OUTLINE]                = #af000000;
      colors[COLOR_PIPEMAP_PIPENODE_BT_NODETYPE_BG]            = #DFffffff;
      colors[COLOR_PIPEMAP_PIPENODE_BT_NODETYPE_FG]            = #DF000000;
      colors[COLOR_PIPEMAP_PIPENODE_BT_NODETYPE_MUTE_BG]       = #40dddddd;
      colors[COLOR_PIPEMAP_PIPENODE_BT_NODETYPE_MUTE_FG]       = #fF000000;
      colors[COLOR_PIPEMAP_STATE_PLAY_TINT_BG_ICONS]           = #48206f50;
      colors[COLOR_PIPEMAP_STATE_MUTE_TINT_BG_ICONS]           = #287f0000;
      colors[COLOR_PIPEMAP_STATE_SOLO_TINT_BG_ICONS]           = #3cffff00;
      colors[COLOR_PIPEMAP_STATE_PLAY_SEQ_TINT_BG_ICONS]       = #48206f30;
      colors[COLOR_PIPEMAP_STATE_MUTE_SEQ_TINT_BG_ICONS]       = #30003f00;
      colors[COLOR_PIPEMAP_ICON_BLEND_C32]                     = 0;
      colors[COLOR_PIPEMAP_PIPE_BG_TINT]                       = 0;
      colors[COLOR_PIPEMAP_STATE_PLAY_TINT_BG_NOICONS]         = #1848c7bb;//#2c48c7bb;
      colors[COLOR_PIPEMAP_STATE_MUTE_TINT_BG_NOICONS]         = #39596975;//#79596975;
      colors[COLOR_PIPEMAP_STATE_SOLO_TINT_BG_NOICONS]         = #ace9ee78;
      colors[COLOR_PIPEMAP_STATE_PLAY_SEQ_TINT_BG_NOICONS]     = #2295c27e;
      colors[COLOR_PIPEMAP_STATE_MUTE_SEQ_TINT_BG_NOICONS]     = #64677564;
      colors[COLOR_PIPEMAP_STATE_PLAY_TINT_FG_NOICONS]         = #ffd2d2d6;
      colors[COLOR_PIPEMAP_STATE_MUTE_TINT_FG_NOICONS]         = #9eb2b2b6;
      colors[COLOR_PIPEMAP_STATE_SOLO_TINT_FG_NOICONS]         = #ff000000;
      colors[COLOR_PIPEMAP_STATE_PLAY_SEQ_TINT_FG_NOICONS]     = #ffe2e2e6;
      colors[COLOR_PIPEMAP_STATE_MUTE_SEQ_TINT_FG_NOICONS]     = #8ededef2;

      // -------- NodeTracker Mode Labels --------
      colors[COLOR_NT_MODE_ENABLE_BG]                        = #28ffffff;
      colors[COLOR_NT_MODE_DISABLE_BG]                       = #18000000;
      colors[COLOR_NT_MODE_ENABLE_FG]                        = #70ffffff;
      colors[COLOR_NT_MODE_DISABLE_FG]                       = #50ffffff;

      // -------- NodeTracker InstrumentView --------
      colors[COLOR_NT_IV_INS_TABLE_INVALID_BG_TINT]   = #40ff0000;
      colors[COLOR_NT_IV_INS_TABLE_FIRST_BG_TINT]     = #40000000;

      // -------- NodeTracker PatternView --------
      colors[COLOR_NT_PV_BLOCK_TOP]                          = #58b0b0d0;//#285070d0;
      colors[COLOR_NT_PV_BLOCK_BOTTOM]                       = #88b0b0d0;//#885070d0
      colors[COLOR_NT_PV_BLOCK_OL_DEF]                       = #8f5f5f5f;
      colors[COLOR_NT_PV_BLOCK_OL_CLIPBOARD]                 = #afffffff;
      colors[COLOR_NT_PV_CURSOR_ALPHA_NORMAL]                = #FF000000;
      colors[COLOR_NT_PV_CURSOR_ALPHA_TIMINGVIEW]            = #6F000000;
      colors[COLOR_NT_PV_CURSOR_EDIT_NONE]                   = #00cfcfcf;
      colors[COLOR_NT_PV_CURSOR_EDIT_NORMAL]                 = #00ff4040;
      colors[COLOR_NT_PV_CURSOR_EDIT_RELSHIFT]               = #00ffff30;
      colors[COLOR_NT_PV_CURSOR_EDIT_unused]                 = #00EEEE55;
      colors[COLOR_NT_PV_CURSOR_EDIT_NORMAL_TIMINGVIEW]      = #50aF0000;
      colors[COLOR_NT_PV_CURSOR_EDIT_RELSHIFT_TIMINGVIEW]    = #70FFff00;
      colors[COLOR_NT_PV_HLCENTER]                           = #27c0bbb5;//#3Fc0bbb5;
      colors[COLOR_NT_PV_HLCENTER_X]                         = #0fffffff;
      colors[COLOR_NT_PV_HLREPLAY]                           = #4fddddaa;//#4fb0aba5;
      colors[COLOR_NT_PV_HLTICKMOD]                          = #0Fc0bbb5;
      colors[COLOR_NT_PV_TRACK_MUTE_LINE_COLOR]              = #FFFF5555;
      colors[COLOR_NT_PV_TRACK_NAME_OVERLAY_BG]              = lnfDark.getTintedColor(LookAndFeel.COLOR_CONTROL_BG, #0cffffff);
      colors[COLOR_NT_PV_TRACK_NAME_OVERLAY_FG_CURRENT]      = #FFeeee77;
      colors[COLOR_NT_PV_TRACK_NAME_OVERLAY_FG_OTHER]        = #FFaaaa55;
      colors[COLOR_NT_PV_TRACK_MULTIMUTE_AREA_BG]            = #10000000;
      colors[COLOR_NT_PV_TIMINGBOX_NOTE_TOP_EVEN]            = #af004f6f;
      colors[COLOR_NT_PV_TIMINGBOX_NOTE_TOP_ODD]             = #af006f4f;
      colors[COLOR_NT_PV_TIMINGBOX_NOTE_FILL_EVEN]           = #3f00afaf;
      colors[COLOR_NT_PV_TIMINGBOX_NOTE_FILL_ODD]            = #3f00af3f;
      colors[COLOR_NT_PV_TIMINGBOX_NOTE_LEFT]                = #7f000000;
      colors[COLOR_NT_PV_TIMINGBOX_OTHER]                    = #afff0000;

      // -------- NodeTracker EnvelopeView --------
      colors[COLOR_NT_EV_OVERLAY_BLOCK_START_INDICATOR_BG]       = #30ffffff;
      colors[COLOR_NT_EV_OVERLAY_BLOCK_START_INDICATOR_DOT_Y_FG] = #a0ffff44;
      colors[COLOR_NT_EV_OVERLAY_BLOCK_END_INDICATOR_BG]         = #406fffff;
      colors[COLOR_NT_EV_OVERLAY_BLOCK_END_INDICATOR_DOT_Y_FG]   = #b0ffff44;
      colors[COLOR_NT_EV_OVERLAY_EDIT_POS_DEF_FG]                = #30dddddd;
      colors[COLOR_NT_EV_OVERLAY_EDIT_POS_EDIT_FG]               = #60ff9999;
      colors[COLOR_NT_EV_OVERLAY_EDIT_POS_EDIT_RELSHIFT_FG]      = #60ffff55;
      colors[COLOR_NT_EV_OVERLAY_PLAY_POS_BG]                    = #50ffffff;
      colors[COLOR_NT_EV_OVERLAY_SELECTION_BG]                   = #48a0c0d0;
      colors[COLOR_NT_EV_BG_EVEN_TINT]                           = #bf000000;
      colors[COLOR_NT_EV_BG_ODD_TINT]                            = #bf0c0c0c;
      colors[COLOR_NT_EV_TICK]                                   = #ff444444;
      colors[COLOR_NT_EV_BEAT_MARKER]                            = #ff5f5f5f;
      colors[COLOR_NT_EV_BEAT_LABEL]                             = #ff717171;
      colors[COLOR_NT_EV_BAR_MARKER]                             = #ff3f3f3f;
      colors[COLOR_NT_EV_BAR_LABEL]                              = #ff717171;
      colors[COLOR_NT_EV_VALUE_LINE_TOP]                         = #ffff5050;
      colors[COLOR_NT_EV_VALUE_LINE_BOTTOM]                      = #ffdf3838;
      colors[COLOR_NT_EV_VALUE_BG_ODD_TOP]                       = #2f000000;
      colors[COLOR_NT_EV_VALUE_BG_EVEN_TOP]                      = #3f080808;
      colors[COLOR_NT_EV_VALUE_BG_ALPHA_TOP]                     = 0xff;
      colors[COLOR_NT_EV_VALUE_BG_ODD_BOTTOM]                    = #2feeeeee;
      colors[COLOR_NT_EV_VALUE_BG_EVEN_BOTTOM]                   = #3fe8e8e8;
      colors[COLOR_NT_EV_VALUE_BG_ALPHA_BOTTOM]                  = 0x5f;

      // -------- Miscellaneous --------
      colors[COLOR_STATUSBAR_TIMELABEL_TINT]         = #67deff;
      colors[COLOR_MIDIMON_CELL_BG_TINT]             = #e0000000;
      colors[COLOR_MIDIMON_CELL_FG]                  = #ff999999;
      colors[COLOR_MIDIMON_CELL_SELECT_FG]           = #ffffffff;
      colors[COLOR_SCENEOVERLAY_SCENE_FG]            = #ff919191;
      colors[COLOR_SCENEOVERLAY_NAME_FG]             = #ffffffff;
      colors[COLOR_PAGENODE_MUTEICON_TINT_1]         = #4f000000;
      colors[COLOR_PAGENODE_MUTEICON_TINT_0]         = #1f000000;
      colors[COLOR_PAGENODE_NAME_MUTE_PIPE_TINT]     = #30600000;
      colors[COLOR_PAGENODE_NAME_MUTE_NODE_TINT]     = #20600000;
      colors[COLOR_PAGENODE_NAME_SOLO_NODE_TINT]     = #30ffff00;

      // -------- NodeTrigSeq --------
      // Velocity colors (0=max, 3=min)
      IntArray trigSeqVelocityColors = [#70ffffff,  // white
                                        #50ffff00,  // yellow
                                        #708bb351,  // green
                                        #70448f8f   // cyan
                                        ];

      int trigSeqBg = #df545456;
      colors[COLOR_TRIGSEQ_STEP_BG_ACTIVE0]                 = UI.TintColor32(trigSeqBg, trigSeqVelocityColors.get(0));
      colors[COLOR_TRIGSEQ_STEP_BG_ACTIVE1]                 = UI.TintColor32(trigSeqBg, trigSeqVelocityColors.get(1));
      colors[COLOR_TRIGSEQ_STEP_BG_ACTIVE2]                 = UI.TintColor32(trigSeqBg, trigSeqVelocityColors.get(2));
      colors[COLOR_TRIGSEQ_STEP_BG_ACTIVE3]                 = UI.TintColor32(trigSeqBg, trigSeqVelocityColors.get(3));
      colors[COLOR_TRIGSEQ_STEP_BG_INACTIVE]                = UI.TintColor32(trigSeqBg, #68000000);
      colors[COLOR_TRIGSEQ_STEP_BG_INACTIVE_NOFOCUS]        = UI.TintColor32(trigSeqBg, #70000000);
      colors[COLOR_TRIGSEQ_STEP_BG_NOTRIGS_TINT]            = #18000020;
      colors[COLOR_TRIGSEQ_EMPTY_BG]                        = getTintedColor(COLOR_TRIGSEQ_STEP_BG_INACTIVE, #3808040a);
      colors[COLOR_TRIGSEQ_EMPTY_BG_NOTRIGS]                = getTintedColor(COLOR_TRIGSEQ_EMPTY_BG, #18000010);
      colors[COLOR_TRIGSEQ_STEP_BG_INACTIVE_BEAT]           = UI.TintColor32(trigSeqBg, #70000000);
      colors[COLOR_TRIGSEQ_STEP_REPEAT]                     = UI.TintColor32(trigSeqBg, #98001f00);
      colors[COLOR_TRIGSEQ_STEP_MOD]                        = UI.TintColor32(trigSeqBg, #a0004f00);
      colors[COLOR_TRIGSEQ_CELL_BORDER_DEFAULT_ACTIVE]      = UI.TintColor32(trigSeqBg, #b0000000);
      colors[COLOR_TRIGSEQ_CELL_BORDER_DEFAULT_INACTIVE]    = UI.TintColor32(trigSeqBg, #50000000);
      colors[COLOR_TRIGSEQ_CELL_BORDER_FOCUS_ACTIVE]        = UI.TintColor32(trigSeqBg, #ff701000);
      colors[COLOR_TRIGSEQ_CELL_BORDER_FOCUS_INACTIVE]      = UI.TintColor32(trigSeqBg, #c08f1f00);
      colors[COLOR_TRIGSEQ_CELL_BORDER_FOCUS_REC_ACTIVE]    = UI.TintColor32(trigSeqBg, #ffe00000);
      colors[COLOR_TRIGSEQ_CELL_BORDER_FOCUS_REC_INACTIVE]  = UI.TintColor32(trigSeqBg, #c0ff0000);
      colors[COLOR_TRIGSEQ_CELL_MICROTIME]                  = UI.TintColor32(trigSeqBg, #10ffb450);  // #30ffb400
      colors[COLOR_TRIGSEQ_CELL_MICROTIME_FINE]             = UI.TintColor32(trigSeqBg, #107f6450);  // #307f6400
      colors[COLOR_TRIGSEQ_CELL_MOD1_TINT]                  = #24474747;
      colors[COLOR_TRIGSEQ_CELL_MOD2_TINT]                  = #24262626;
      colors[COLOR_TRIGSEQ_ARG2_TEXT]                       = #afffffff;
      colors[COLOR_TRIGSEQ_REPLAY_CURSOR_BG]                = #10ffffff;
      colors[COLOR_TRIGSEQ_REPLAY_CURSOR_OL_DEF]            = #30afaf00;
      colors[COLOR_TRIGSEQ_REPLAY_CURSOR_OL_REC]            = #40cf0000;
      colors[COLOR_TRIGSEQ_STEP_NR_TEXT_SET_TINT]           = #3c000000;
      colors[COLOR_TRIGSEQ_STEP_NR_TEXT_CLR_TINT]           = #08000000;

      // -------- NodeMonitor --------
      colors[COLOR_MONITOR_FILTER_LABEL_TINT] = #bF000000;
      colors[COLOR_MONITOR_SYSEX_ERROR_TINT]  = #20500000;

      // -------- Auto (removed) --------
      colors[COLOR_AUTO_TRACK_INACTIVE_BG_TINT]       = 0;
      colors[COLOR_AUTO_TRACK_ACTIVE_BG_TINT]         = #10ffffff;
      colors[COLOR_AUTO_LANE_INACTIVE_BG_TINT]        = 0;
      colors[COLOR_AUTO_LANE_ACTIVE_BG_TINT]          = #10ffffff;
      colors[COLOR_AUTO_LANE_ALT_IN_INACTIVE_BG_TINT] = #04ffafaf;
      colors[COLOR_AUTO_LANE_ALT_IN_ACTIVE_BG_TINT]   = #10ffafaf;

      // -------- PianoWidget ------
      colors[COLOR_PIANO_BG]            = #ff444444;  // never visible ?!
      colors[COLOR_PIANO_WHITE]         = #ffeeeeee;
      colors[COLOR_PIANO_WHITE_PRESSED] = #ffee6666;
      colors[COLOR_PIANO_WHITE_LAST]    = #ff66ee66;
      colors[COLOR_PIANO_BLACK]         = #ff000000;
      colors[COLOR_PIANO_BLACK_PRESSED] = #ffaf0000;
      colors[COLOR_PIANO_BLACK_LAST]    = #ff00af00;
      colors[COLOR_PIANO_BORDER]        = #ff999999;

      // -------- NewTrackDialog ------
      colors[COLOR_NEWTRACKDLG_CAT_BG_PRESET]  = #287f7f00;
      colors[COLOR_NEWTRACKDLG_CAT_BG_CURRENT] = #10007f00;
      colors[COLOR_NEWTRACKDLG_CAT_BG_DEFAULT] = #00000000;

      // -------- NodeSeq (Freeform) ---------
      colors[COLOR_NODESEQ_MUTE_MUTE]                    = #60ff0000;
      colors[COLOR_NODESEQ_MUTE_SOLO]                    = 0;
      colors[COLOR_NODESEQ_SOLO_MUTE]                    = #4000ff00;
      colors[COLOR_NODESEQ_SOLO_SOLO]                    = #a0ffff00;
      colors[COLOR_NODESEQ_PLAY_MUTE]                    = #4000a000;
      colors[COLOR_NODESEQ_PLAY_SOLO]                    = 0;
      colors[COLOR_NODESEQ_FOCUS]                        = #5000FFFF;
      colors[COLOR_NODESEQ_ACTIVITY_LED_IN]              = #e0c01010;
      colors[COLOR_NODESEQ_ACTIVITY_LED_OUT]             = #e010c0c0;
      colors[COLOR_NODESEQ_ARR_BG]                       = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf181b1e);
      colors[COLOR_NODESEQ_ARR_BAR_SEPARATOR]            = #30ffffff;
      colors[COLOR_NODESEQ_ARR_CURSOR_NORMAL]            = #c0ffffff;
      colors[COLOR_NODESEQ_ARR_CURSOR_REC]               = #e0FF7070;
      colors[COLOR_NODESEQ_ARR_CURSOR_REC_PUNCH]         = #c0FFEF00;
      colors[COLOR_NODESEQ_ARR_BAR_EMPTY]                = 0;
      colors[COLOR_NODESEQ_ARR_BAR_EMPTY_FASTCLEAR_CUR]  = #18500000;
      colors[COLOR_NODESEQ_ARR_BAR_NOTES]                = #70708476;
      colors[COLOR_NODESEQ_ARR_BAR_NOTES_FASTCLEAR]      = #c0bf6446;
      colors[COLOR_NODESEQ_ARR_BAR_NOTES_FASTCLEAR_CUR]  = #c0df8466;
      colors[COLOR_NODESEQ_ARR_BAR_CTLS]                 = #90607f82;
      colors[COLOR_NODESEQ_ARR_BAR_PERF]                 = #90807f8f;
      colors[COLOR_NODESEQ_ARR_BAR_SYSEX]                = #90c0a080;
      colors[COLOR_NODESEQ_ARR_BAR_GRADIENT_TINT]        = #3c000000;
      colors[COLOR_NODESEQ_ARR_BAR_LABEL]                = #7fffffff;
      colors[COLOR_NODESEQ_ARR_BAR_PRGCHG]               = #bfffffff;
      colors[COLOR_NODESEQ_ARR_MARKER_REC]               = #c0FF7F7F;
      colors[COLOR_NODESEQ_ARR_MARKER_REC_PUNCH]         = #c0FFEF58;
      colors[COLOR_NODESEQ_ARR_MARKER_REPLAY]            = #e0ffffff;
      colors[COLOR_NODESEQ_ARR_MARKER_IDLE]              = #a0ffffff;
      colors[COLOR_NODESEQ_ARR_BAR_MODULO]               = #08ffffff;
      colors[COLOR_NODESEQ_ARR_LOCATOR_ICON_TINT]        = #90ffffff;
      colors[COLOR_NODESEQ_ARR_LOCATOR_ICON_DRAG_TINT]   = #48ffffff;
      colors[COLOR_NODESEQ_ARR_LOCATOR_QUEUED_ICON_TINT] = #D0FFFF22; //ffebbe45;  //
      colors[COLOR_NODESEQ_ARR_PUNCH_ICON_TINT]          = #A0ffff3f;
      colors[COLOR_NODESEQ_ARR_PUNCH_ICON_DRAG_TINT]     = #60ffff3f;
      colors[COLOR_NODESEQ_EVT_BG]                       = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf121315);
      colors[COLOR_NODESEQ_EVT_BG_CUR]                   = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf181b1e);
      colors[COLOR_NODESEQ_EVT_VEL_0]                    = #9f343446;
      colors[COLOR_NODESEQ_EVT_VEL_1]                    = #af30afaf;
      colors[COLOR_NODESEQ_EVT_VEL_2]                    = #bfbfbf7f;
      colors[COLOR_NODESEQ_EVT_VEL_3]                    = #dfbfbfbf;
      colors[COLOR_NODESEQ_EVT_NOTE_SHADOW]              = #5f000000;
      colors[COLOR_NODESEQ_EVT_NOTE_SHADOW_SEL]          = #7fffffff;
      colors[COLOR_NODESEQ_EVT_NOTE_SHADOW_SEL2]         = #3fffffff;
      colors[COLOR_NODESEQ_EVT_BLACK_NOTE_BG]            = #07ffffff;
      colors[COLOR_NODESEQ_EVT_C_NOTE_BG]                = #3fffffff;
      colors[COLOR_NODESEQ_ARR_SELECT_BG]                = #30EFEFFF;
      colors[COLOR_NODESEQ_ARR_SELECT_FG]                = #D0fffffF;
      colors[COLOR_NODESEQ_TEMPO_BG]                     = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf121315);
      colors[COLOR_NODESEQ_TEMPO_BG_CUR]                 = lnfDark.getTintedColor(LookAndFeel.COLOR_WINDOW_BG, 0xbf181b1e);
      colors[COLOR_NODESEQ_TEMPO_BEAT_IDEAL]             = #28ffffff;
      colors[COLOR_NODESEQ_TEMPO_BAR_IDEAL]              = #48ffffff;
      colors[COLOR_NODESEQ_TEMPO_DOT_CUR]                = #cf7ac0a8; // #ef0c9058;
      colors[COLOR_NODESEQ_TEMPO_DOT_OTHER]              = #8f3aa088;
      colors[COLOR_NODESEQ_TEMPO_DOT_SEL]                = #cf9f281c;
      colors[COLOR_NODESEQ_TEMPO_CUR_TRACK]              = #0fffffff;
      colors[COLOR_NODESEQ_TEMPO_DRAG_BAR]               = #ffbf7777;
      colors[COLOR_NODESEQ_TEMPO_LABEL]                  = #7fffffff;

      // -------- Modular ---------
      int windowBg = getColor(LookAndFeel.COLOR_WINDOW_BG);
      colors[COLOR_MODULAR_RACK_BG]                = UI.TintColor32(windowBg, #ff070707);
      colors[COLOR_MODULAR_MODULE_BG]              = UI.TintColor32(windowBg, #02ffffff);
      colors[COLOR_MODULAR_MODULE_HEADER_BG]       = UI.TintColor32(windowBg, #08000000);
      colors[COLOR_MODULAR_MODULE_HEADER_FOCUS_BG] = UI.TintColor32(windowBg, #38ffffff);
      colors[COLOR_MODULAR_MODULE_HEADER_CAPTION]  = #a0ffffff;
      colors[COLOR_MODULAR_MODULE_BORDER_TINT]     = #50666666;
      colors[COLOR_MODULAR_CONNECT]                = #b0afaf00;
      colors[COLOR_MODULAR_CONNECT_CANDIDATE]      = #b0a1ff00;
      colors[COLOR_MODULAR_RACK_RAIL1_BG_TINT]     = #ff262626;
      colors[COLOR_MODULAR_RACK_RAIL2_BG_TINT]     = #ff0b0b0b;
      colors[COLOR_MODULAR_RACK_RAIL3_BG_TINT]     = #ff191919;
      colors[COLOR_MODULAR_PORTWIDGET_OUT_BG]      = #ff878787;
      colors[COLOR_MODULAR_PORTWIDGET_OUT_INNER_BG]= #ff444444;
      colors[COLOR_MODULAR_PORTWIDGET_IN_BG]       = #ff777777;
      colors[COLOR_MODULAR_PORTWIDGET_IN_INNER_BG] = #ff444444;
      colors[COLOR_MODULAR_ROUNDBUTTON_FG_DISABLE] = #231c1c1c;
      colors[COLOR_MODULAR_ROUNDBUTTON_FG_ENABLE]  = #5f555555;

      // -------- AutoDeviceForm ---------
      colors[COLOR_AUTODEVICEFORM_GLOBALANDLOCAL_UNIQUE_BG_TINT]   = #60008400;
      colors[COLOR_AUTODEVICEFORM_GLOBAL_UNIQUE_BG_TINT]           = #50006060;
      colors[COLOR_AUTODEVICEFORM_NOT_UNIQUE_BG_TINT]              = #68800000;
      colors[COLOR_AUTODEVICEFORM_LOCAL_UNIQUE_BG_TINT]            = #88005080;
      colors[COLOR_AUTODEVICEFORM_ARR_CLASH_BG_TINT]               = #60FF6000;
      colors[COLOR_AUTODEVICEFORM_BT_TINT]                         = #30ffffff;

      // -------- FM Matrix ---------
      colors[COLOR_FMMATRIX_ALG_BG_TINT]                 = #10000000;
      colors[COLOR_FMMATRIX_ALG_FG_TINT]                 = #00000000;
      colors[COLOR_FMMATRIX_ALG_FB_FG_TINT]              = #dfff0000;
      colors[COLOR_FMMATRIX_MAT_OUT_TINT]                = #40ffff00;
      colors[COLOR_FMMATRIX_MAT_OUT_FB_TINT]             = #40ffdd00;
      colors[COLOR_FMMATRIX_MAT_OUT_LVL0_TINT]           = #408f8f00;
      colors[COLOR_FMMATRIX_MAT_OUT_LVL0_FB_TINT]        = #40Df8f00;
      colors[COLOR_FMMATRIX_MAT_OUT_VALID_TINT]          = #4078783f;
      colors[COLOR_FMMATRIX_MAT_OUT_VALID_FB_TINT]       = #4088703f;
      colors[COLOR_FMMATRIX_MAT_OUT_INVALID_TINT]        = #10000000;
      colors[COLOR_FMMATRIX_MAT_OUT_INVALID_IS_MOD_TINT] = #50ff0000;
      colors[COLOR_FMMATRIX_MAT_MOD_TINT]                = #1000ff00;
      colors[COLOR_FMMATRIX_MAT_MOD_FB_TINT]             = #10FFdd00;
      colors[COLOR_FMMATRIX_MAT_MOD_LVL0_TINT]           = #602c5842; // #502c533e // #58164030; // #48164030; // #401c3830;
      colors[COLOR_FMMATRIX_MAT_MOD_LVL0_FB_TINT]        = #605c4842;
      colors[COLOR_FMMATRIX_MAT_MOD_VALID_TINT]          = UI.TintColor32(#57193015, #1c000000); // #571d2f1a
      colors[COLOR_FMMATRIX_MAT_MOD_VALID_FB_TINT]       = UI.TintColor32(#57301915, #1c000000); // #571d2f1a
      colors[COLOR_FMMATRIX_MAT_MOD_INVALID_TINT]        = #30000307;
      colors[COLOR_FMMATRIX_MAT_OUT_ACTIVE_TINT]         = #20000000;
      colors[COLOR_FMMATRIX_MAT_OUT_INACTIVE_TINT]       = #48000000;
      colors[COLOR_FMMATRIX_LABEL]                       = lnfDark.getColor(LookAndFeel.COLOR_LABEL_CAPTION_FG);//lnfGetTintedColor(LookAndFeel.COLOR_WINDOW_BG, #5f000000);

      tv_pipeornode_solo_state_bgtints = [#ff181818, #ff181818, #ff000000];  // play, mute, solo
      tv_pipeornode_solo_state_fgtints = [#7fcfffcf, #f8ffefef, #ffffffff];
      tv_pipeornode_mute_state_bgtints = [#0860af60, #80ff6a48, #ff000000];
      tv_pipeornode_mute_state_fgtints = [#7fffffff, #f8ffefef, #ffffffff];

      sceneoverlay_group_bg_tint = [
         #e01f1f00,  // A
         #70007f00,  // B
         #a8007f7F,  // C
         #8c7F0000,  // D
         #e02f2f00,  // E
         #7000ff00,  // F
         #a800ffFF,  // G
         #8cFF0000   // H
                                    ];
      sceneoverlay_bg_alpha = 90;

      b_arranger_timeline_border      = false;
      b_arranger_timeline_clip_border = false;

      nt_pv_overlay_highlight_row_timeout_alpha_scl = 1.2f;
      statusbar_timelabel_tint_alpha_scl            = 84.0;
      trig_seq_replay_cursor_ol_width               = 2.0;

      b_dark_modular                      = true;
      b_modular_roundbutton_polygonsmooth = false;
   }

   protected virtual initNodeTrackerPatternViewColors() {
      // C-6a7f00

      LookAndFeel lnf <= UI.GetLookAndFeel(LookAndFeel.DARK);
      int bg32 = lnf.colors[LookAndFeel.COLOR_CONTROL_BG] | 0xFF000000;

      // 00000 00 C-00ff33
      int C0 = 0xffaa5555;  // song offset
      int C1 = 0xff55cccc;  // pattern offset
      int C2 = 0xffaaaaaa;  // Even ctl
      int C3 = 0xffcccccc;  // Odd ctl
      int C4 = 0xffaa5555;  // Even note-off ctl
      int C5 = 0xffff5555;  // Odd note-off ctl
      int C6 = 0xffcc5555;  // Pattern start marker

      int TV_C2 = 0xffaaaaaa;  // Even ctl
      int TV_C3 = 0xffcccccc;  // Odd ctl
      int TV_C4 = C4;        // Even note-off ctl
      int TV_C5 = C5;        // Odd note-off ctl

      calcPatternViewColors(bg32, C0, C1, C2, C3, C4, C5, C6, TV_C2, TV_C3, TV_C4, TV_C5);

      nt_celcolor_palette = [
         #00000000,   //  0: default-type a
         #10000000,   //  1: default-type b
         #520080af,   //  2: CTL_INSTR
         #01000000,   //  3: CTL_NOTE a
         #0E000000,   //  4: CTL_NOTE b
         #4af7fffc,   //  5: CTL_DUR a
         #5cf7fffc,   //  6: CTL_DUR b
         #26fffdb8,   //  7: CTL_VEL a
         #1cfffdb8,   //  8: CTL_VEL b
         #952060c6,   //  9: CTL_POLYAT a
         #852060c6,   // 10: CTL_POLYAT b
         #2e48af4f,   // 11: CTL_PC
         #c9297bff,   // 12: CTL_AT
         #3849ffef,   // 13: CTL_PB
         #3c67fff7,   // 14: CTL_SLIDE
         #131c003f,   // 15: CTL_DELAY
         #17ea9400,   // 16: CTL_RETRIG
         #1800af0a,   // 17: CTL_BPM
         #a9ff5537,   // 18: CTL_MUTE
         #3800afaf,   // 19: CTL_SEEK
         #507b9deb,   // 20: CTL_USR a
         #6c7b9deb,   // 21: CTL_USR b
         #00000000,   // 22: PAL_GROOVE
                             ];
   }
}
