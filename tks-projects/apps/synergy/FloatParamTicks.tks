// ----
// ---- file   : FloatParamTicks.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2010-2023 by Bastian Spiegel.
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "syntracker" sequencer.
// ----
// ---- created: 03Jan2010
// ---- changed: 10Jun2010, 27May2013, 28Jul2023, 27Oct2023
// ----
// ----
// ----

module MFloatParamTicks;

use namespace ui;


// <class.png>
class FloatParamTicks : FloatParam {

   protected method inc() {
      int i = getValue();

      switch(i)
      {
         case 1:
         case 2:
            i = 3;
            break;

         case 3:
         case 4:
         case 5:
            i = 6;
            break;

         case 7:
         case 8:
         case 9:
         case 10:
         case 11:
            i = 12;
            break;

         default:
            i *= 2;
            break;
      }

      setValueAndValidate(i);
      handleValueChanging();
   }

   protected method dec() {
      int i = getValue();

      switch(i)
      {
         case 2:
            i = 1;
            break;

         case 3:
            i = 1;
            break;

         case 4:
         case 5:
            i = 3;
            break;

         default:
            i /= 2;
            break;
      }

      setValueAndValidate(i);
      handleValueChanging();
   }

   public virtual incCoarse() {
      inc();
   }

   public virtual incFine() {
      inc();
   }

   public virtual decCoarse() {
      dec();
   }

   public virtual decFine() {
      dec();
   }
}
