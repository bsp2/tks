// ----
// ---- file   : Dialog_DeleteWaveform.tks
// ---- author : Bastian Spiegel <bs@tkscript.de>
// ---- legal  : (c) 2009-2014 by Bastian Spiegel. 
// ----          Distributed under terms of the GNU LESSER GENERAL PUBLIC LICENSE (LGPL). See 
// ----          http://www.gnu.org/licenses/licenses.html#LGPL or COPYING for further information.
// ----
// ---- info   : This is part of the "syntracker" midi sequencer.
// ----
// ---- changed: 26Dec2009, 09Jan2010, 01Mar2010, 02Jul2010, 04Jul2010, 21Nov2010, 17Feb2011
// ----          06Mar2011, 05Jun2013, 12Aug2014
// ----
// ----
// ----

module MDialog_DeleteWaveform;

use namespace ui;
use namespace st2;


class Dialog_DeleteWaveform extends ActionConsumer {
   ChoiceDialog d;

   public method run(String _name) {
      d <= ChoiceDialog.NewYesNo("Delete waveform", 
                                 "Are you sure to delete waveform \""+_name+"\"?", 
                                 this);
      //d.showCentered();
      d.showNearMouse(-150, -90);
   }
    
   public virtual consumeAction(IntAction _action) : boolean {
      if(_action.getActionProvider() == d)
      {
         d <= null; // Delete dialog
         switch(_action.getIntValue())
         {
            case ChoiceDialog.SELECT_YES:
               root_form.pg_waveforms.deleteSelectedWaveform();
               return true;

            case ChoiceDialog.SELECT_NO:
               return true;
         }
      }
      return false;
   }
}
